<!--TODO rewrite in Vue-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>RTS Lab1</title>
    <script src="Chart.bundle.js"></script>
</head>
<body>

<div>
    <p id="ev"></p>
    <p id="variance"></p>
</div>
<canvas id="xChart"></canvas>
<canvas id="myChart" width="400" height="400"></canvas>
<script>
document.addEventListener("DOMContentLoaded", function (event) {
    var ctx = document.getElementById("xChart");
    var chart;

fetch('/api/v1/lab1/x/chart?from=0&to=1024')
    .then(res => res.json())
    .then(data => {
        document.getElementById("ev").innerHTML = 'M: ' + data.ev;
        document.getElementById("variance").innerHTML = 'D: ' + data.variance;
        chart = new Chart(ctx, {
            type: 'line',
            data: {
                datasets: [{
                    label: 'X(t)',
                    data: data.chart,
                    borderColor: "#5dcd29",
                    fill: true
                }]
            },
            options: {
                    scales: {
                        yAxes: [{
                            id: 'X',
                            type: 'linear',
                            position: 'left'
                        }],
                        xAxes: [{
                            id: 't',
                            type: 'linear',
                            position: 'bottom'
                        }]
                    }
                }

        });
    });
});

</script>
</body>
</html>